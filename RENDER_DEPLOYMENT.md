# Render.com Deployment Guide for Django File Converter API

## ðŸš€ Step-by-Step Render.com Deployment

### **Prerequisites**
- GitHub account
- Your Django project pushed to GitHub
- Render.com account (free)

## **Step 1: Prepare Your Django Project for Render**

### **1.1 Create build.sh (Build Script)**
Create this file in your project root:

```bash
#!/usr/bin/env bash
# exit on error
set -o errexit

# Install dependencies
pip install -r requirements.txt

# Collect static files
python manage.py collectstatic --no-input

# Run migrations
python manage.py migrate
```

### **1.2 Update requirements.txt**
Add these Render-specific packages:
```
gunicorn==23.0.0
whitenoise==6.8.2
dj-database-url==2.2.0
psycopg2-binary==2.9.11
```

### **1.3 Update Django Settings for Render**
Add to your `settings.py`:

```python
import dj_database_url
import os

# Render.com deployment settings
if 'RENDER' in os.environ:
    DEBUG = False
    ALLOWED_HOSTS = [os.environ.get('RENDER_EXTERNAL_HOSTNAME')]
    
    # Database configuration for Render PostgreSQL
    DATABASES = {
        'default': dj_database_url.parse(os.environ.get('DATABASE_URL'))
    }
    
    # Static files configuration
    STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')
    STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'
```

## **Step 2: Deploy to Render.com**

### **2.1 Create Render Account**
1. Go to [render.com](https://render.com)
2. Sign up with your GitHub account
3. Authorize Render to access your repositories

### **2.2 Create Web Service**
1. Click "New +" â†’ "Web Service"
2. Connect your GitHub repository
3. Choose your Django project repository

### **2.3 Configure Web Service**
```
Name: django-fileconvert-api
Region: Oregon (US West) or nearest to you
Branch: main (or your default branch)
Runtime: Python 3
Build Command: ./build.sh
Start Command: gunicorn fileconvert_api.wsgi:application
```

### **2.4 Set Environment Variables**
In Render dashboard, add these environment variables:

```bash
PYTHON_VERSION=3.11.0
DEBUG=False
SECRET_KEY=your-50-character-secret-key-here
RENDER=True
WEB_CONCURRENCY=4

# File Upload Settings
FILE_UPLOAD_MAX_MEMORY_SIZE=104857600
DATA_UPLOAD_MAX_MEMORY_SIZE=104857600

# CORS Settings
CORS_ALLOWED_ORIGINS=https://your-app-name.onrender.com

# JWT Settings
JWT_SECRET_KEY=your-jwt-secret-different-from-django-secret
```

## **Step 3: Add PostgreSQL Database**

### **3.1 Create Database**
1. In Render dashboard, click "New +" â†’ "PostgreSQL"
2. Choose:
   ```
   Name: fileconvert-db
   Database: fileconvert_api
   User: fileapi_user
   Region: Same as your web service
   ```

### **3.2 Connect Database to Web Service**
1. Go to your web service settings
2. Add environment variable:
   ```
   DATABASE_URL=postgresql://[generated by Render]
   ```
   (Render will provide this automatically)

## **Step 4: Test Your Deployment**

After deployment, your API will be available at:
- **Base URL:** `https://your-app-name.onrender.com/`
- **Simple Interface:** `https://your-app-name.onrender.com/simple/`
- **Admin:** `https://your-app-name.onrender.com/admin/`
- **API Docs:** `https://your-app-name.onrender.com/swagger/`

## **Step 5: Create Superuser (Optional)**

1. Go to Render dashboard â†’ your web service â†’ "Shell"
2. Run: `python manage.py createsuperuser`

## **Benefits of Render.com:**

âœ… **Free PostgreSQL database**
âœ… **Automatic HTTPS/SSL**
âœ… **Custom domains**
âœ… **Auto-deploy from GitHub**
âœ… **Environment variables**
âœ… **24/7 uptime**
âœ… **Fast global CDN**
âœ… **Python 3.11 support**

## **Free Tier Limits:**
- 750 hours/month (more than enough)
- 512MB RAM
- Shared CPU
- 100GB bandwidth

## **Important Notes:**

1. **File Storage:** Render has ephemeral storage, so uploaded files are temporary
2. **Cold Starts:** Free tier apps may sleep after inactivity
3. **Build Time:** First deployment takes 5-10 minutes
4. **Static Files:** WhiteNoise handles static file serving

## **Troubleshooting:**

### **Build Fails:**
- Check build logs in Render dashboard
- Ensure `build.sh` has executable permissions
- Verify all dependencies in requirements.txt

### **App Won't Start:**
- Check environment variables
- Ensure `ALLOWED_HOSTS` includes your Render URL
- Check for database connection issues

### **Static Files Not Loading:**
- Verify `STATIC_ROOT` setting
- Ensure `collectstatic` runs in build script
- Check WhiteNoise configuration

Your Django file conversion API with PDF to TXT functionality will work perfectly on Render.com! ðŸŽ‰
